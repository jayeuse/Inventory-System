<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pharmacy Management System</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="/static/SettingsPage/System_Settings.css" />
  </head>
  <body>
    <div class="d-flex">
      <!-- Sidebar Container -->
      <div id="sidebar-container"></div>

      <main class="main flex-grow-1 p-4">
        <div class="tabs">
          <div class="tab active" data-tab="settings">System Settings</div>
          <div class="tab" data-tab="suppliers">Suppliers Management</div>
          <div class="tab" data-tab="products">Product Management</div>
          <div class="tab" data-tab="categories">Category Management</div>
        </div>

        <!-- System Settings Content -->
        <div id="settings-content" class="tab-content active">
          <div class="settings-grid">
            <div class="card-4">
              <h3 class="card-title">
                <i class="bi bi-palette-fill"></i> System Theme
              </h3>
              <div class="theme-options">
                <div class="theme-option active">
                  <div class="theme-icon"><i class="bi bi-sun-fill"></i></div>
                  <div class="theme-name">Light Mode</div>
                </div>
                <div class="theme-option">
                  <div class="theme-icon"><i class="bi bi-moon-fill"></i></div>
                  <div class="theme-name">Dark Mode</div>
                </div>
              </div>
            </div>

            <div class="card-2">
              <h3 class="card-title">
                <i class="bi bi-clock-fill"></i> Timezone
              </h3>
              <div class="setting-group">
                <div class="select-wrapper">
                  <select>
                    <option>UTC+8 Philippine Time</option>
                    <option>UTC-5 Eastern Time</option>
                    <option>UTC+0 Greenwich Mean Time</option>
                    <option>UTC+1 Central European Time</option>
                    <option>UTC+9 Japan Standard Time</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="card-3">
              <h3 class="card-title">
                <i class="bi bi-currency-dollar"></i> Currency
              </h3>
              <div class="setting-group">
                <div class="select-wrapper">
                  <select>
                    <option>PHP - Philippine Peso</option>
                    <option>USD - US Dollar</option>
                    <option>EUR - Euro</option>
                    <option>GBP - British Pound</option>
                    <option>JPY - Japanese Yen</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="card-2">
              <h3 class="card-title">
                <i class="bi bi-hdd-fill"></i> Data Management
              </h3>
              <div class="backup-section">
                <div class="backup-content">
                  <div class="backup-icon"><i class="bi bi-hdd-fill"></i></div>
                  <p class="backup-text">
                    Create a backup of your system data to prevent data loss
                  </p>
                </div>
                <button class="btn btn-primary">Create Backup Data</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Suppliers Management Content -->
        <div id="suppliers-content" class="tab-content">
          <div class="card">
            <div class="search-row">
              <div class="search-controls">
                <input
                  class="input search-input"
                  placeholder="Search Supplier Name"
                  id="searchInput"
                />
                <select class="input" id="statusFilter">
                  <option value="all">Filter by Status</option>
                  <option value="active">Active</option>
                  <option value="inactive">Inactive</option>
                </select>
              </div>
              <button class="btn btn-outline" id="addSupplierBtn">
                <i class="fas fa-plus"></i> Add Supplier
              </button>
            </div>

            <table>
              <thead>
                <tr>
                  <th>Supplier ID</th>
                  <th>Supplier Name</th>
                  <th>Contact Person</th>
                  <th>Address</th>
                  <th>Email</th>
                  <th>Number</th>
                  <th>Status</th>
                  <th>Supply</th>
                  <th style="text-align: right">Action</th>
                </tr>
              </thead>
              <tbody id = "suppliers-table-body">
              </tbody>
            </table>

            <div class="pagination">
              <button class="pagination-btn" id="prevBtn">
                <i class="fas fa-chevron-left"></i> Previous
              </button>
              <button class="pagination-btn" id="nextBtn">
                Next <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Product Management Content -->
        <div id="products-content" class="tab-content">
          <div class="card">
            <!-- Product Status Tabs -->
            <div class="product-tabs">
              <div class="product-tab active" data-product-tab="active">
                Active Products
              </div>
              <div class="product-tab" data-product-tab="archived">
                Archived Products
              </div>
            </div>

            <!-- Active Products Content -->
            <div id="activeProductsContent" class="product-tab-content active">
              <div class="search-row">
                <div class="search-controls">
                  <input
                    class="input search-input"
                    placeholder="Search by Product ID, Brand, or Generic Name"
                    id="activeSearchInput"
                  />
                  <select class="input" id="categoryFilter">
                    <option value="all">Filter by Category</option>
                  </select>
                </div>
                <button class="btn btn-outline" id="addProductBtn">
                  <i class="fas fa-plus"></i> Add Product
                </button>
              </div>

              <table>
                <thead>
                  <tr>
                    <th>Product ID</th>
                    <th>Brand Name</th>
                    <th>Generic Name</th>
                    <th>Category</th>
                    <th>Subcategory</th>
                    <th>Unit Price</th>
                    <th>Low Stock Threshold</th>
                    <th>Expiry Date Threshold</th>
                    <th>Last Update</th>
                    <th style="text-align: center">Action</th>
                  </tr>
                </thead>
                <tbody id="tableBody">
                  <!-- Rows will be populated dynamically by Product_Management.js -->
                </tbody>
              </table>

              <div class="pagination">
                <button class="pagination-btn" id="prevBtn">
                  <i class="fas fa-chevron-left"></i> Previous
                </button>
                <button class="pagination-btn" id="nextBtn">
                  Next <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>

            <!-- Archived Products Content -->
            <div id="archivedProductsContent" class="product-tab-content">
              <div class="search-row">
                <div class="search-controls">
                  <input
                    class="input search-input"
                    placeholder="Search by Product ID, Brand, or Generic Name"
                    id="archivedSearchInput"
                  />
                  <select class="input" id="archivedCategoryFilter">
                    <option value="all">Filter by Category</option>
                  </select>
                </div>
              </div>

              <table>
                <thead>
                  <tr>
                    <th>Product ID</th>
                    <th>Brand Name</th>
                    <th>Generic Name</th>
                    <th>Category</th>
                    <th>Subcategory</th>
                    <th>Unit Price</th>
                    <th>Archive Reason</th>
                    <th>Archived Date</th>
                    <th style="text-align: center">Action</th>
                  </tr>
                </thead>
                <tbody id="archivedTableBody">
                  <!-- Archived rows will be populated dynamically by Product_Management.js -->
                </tbody>
              </table>

              <div class="pagination">
                <button class="pagination-btn" id="archivedPrevBtn">
                  <i class="fas fa-chevron-left"></i> Previous
                </button>
                <button class="pagination-btn" id="archivedNextBtn">
                  Next <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Category Management Content -->
        <div id="categories-content" class="tab-content">
          <div class="card">
            <div class="search-row">
              <div class="search-controls">
                <input
                  type="text"
                  class="input search-input"
                  placeholder="Search categories..."
                />
                <select class="input">
                  <option>All Categories</option>
                  <option>Medicine</option>
                  <option>Non-Medicine</option>
                </select>
              </div>
            </div>

            <div class="layout">
              <div class="table-section">
                <table>
                  <thead>
                    <tr>
                      <th>Category ID</th>
                      <th>Category Name</th>
                      <th>Description</th>
                      <th>Products</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="category-table-body">
                    <tr class="subcategory-row hidden">
                      <td colspan="5">
                        <table class="subcategory-table">
                          <thead>
                            <tr>
                              <th>Subcategory ID</th>
                              <th>Subcategory Name</th>
                              <th>Description</th>
                              <th>Product Count</th>
                            </tr>
                          </thead>
                          <tbody id="subcategory-table-body">
                          </tbody>
                        </table>
                      </td>
                  </tbody>
                </table>

                <div class="pagination">
                  <button class="pagination-btn">
                    <i class="bi bi-chevron-left"></i> Previous
                  </button>
                  <button class="pagination-btn">
                    Next <i class="bi bi-chevron-right"></i>
                  </button>
                </div>
              </div>

              <div class="form-section">
                <div class="form-container">
                  <div class="form-content">
                    <h3>Add Category</h3>
                    <div class="form-fields">
                      <div class="form-group">
                        <label for="category-name">Category Name</label>
                        <input
                          type="text"
                          class="input"
                          id="category-name"
                          placeholder="Enter category name"
                        />
                      </div>
                      <div class="form-group">
                        <label for="category-description">Description</label>
                        <textarea
                          class="input"
                          id="category-description"
                          placeholder="Enter description"
                        ></textarea>
                      </div>
                    </div>
                    <div class="button-container">
                      <button type="button" class="btn btn-secondary">
                        Clear
                      </button>
                      <button type="button" id="addCategoryBtn" class="btn btn-outline">
                        Add Category
                      </button>
                    </div>

                    <div class="divider"></div>

                    <h3>Add Subcategory</h3>
                    <div class="form-fields">
                      <div class="form-group">
                        <label for="category-classification"
                          >Category Classification</label
                        >
                        <select class="input" id="category-classification">
                          <option value="">Select Classification</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label for="subcategory-name">Subcategory Name</label>
                        <input
                          type="text"
                          class="input"
                          id="subcategory-name"
                          placeholder="Enter subcategory name"
                        />
                      </div>
                      <div class="form-group">
                        <label for="subcategory-description">Description</label>
                        <textarea
                          class="input"
                          id="subcategory-description"
                          placeholder="Enter description"
                        ></textarea>
                      </div>
                    </div>
                    <div class="button-container">
                      <button type="button" class="btn btn-secondary">
                        Clear
                      </button>
                      <button type="button" id="addSubCategoryBtn" class="btn btn-outline">
                        Add Subcategory
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Add Supplier Modal -->
    <div id="addSupplierModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add Supplier</h2>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="supplierName">Supplier Name</label>
            <input
              type="text"
              id="supplierName"
              class="input"
              placeholder="Enter supplier name"
            />
          </div>
          <div class="form-group">
            <label for="supplierContactPerson">Contact Person</label>
            <input
              type="text"
              id="supplierContactPerson"
              class="input"
              placeholder="Enter contact person"
            />
          </div>
          <div class="form-group">
            <label for="supplierAddress">Address</label>
            <input
              type="text"
              id="supplierAddress"
              class="input"
              placeholder="Enter Physical Address"
            />
          </div>
          <div class="form-group">
            <label for="supplierEmail">Email</label>
            <input
              type="email"
              id="supplierEmail"
              class="input"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="supplierPhoneNumber">Phone Number</label>
            <input
              type="tel"
              id="supplierPhoneNumber"
              class="input"
              placeholder="Enter phone number"
            />
          </div>
          <div class="form-group">
            <label for="supplierProduct">Supplying Product</label>
            <select id="supplierProduct", class="supplierProduct">
              <option value="">Select a Product</option>
            </select>
          </div>
          <div class="form-group">
            <label for="supplierStatus">Status</label>
            <select id="supplierStatus" class="input">
              <option value="Active">Active</option>
              <option value="Inactive">Inactive</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelBtn">Cancel</button>
          <button class="btn" id="saveSupplierBtn"><i class="fas fa-save"></i> Save</button>
        </div>
      </div>
    </div>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Add Product</h2>
          <button class="close-btn" id="closeModalBtn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="info-banner">
            <i class="bi bi-info-circle"></i>
            <p>
              <em
                >To add or manage categories and subcategories, please go to the
                <strong>Category Management</strong> section in System
                Settings.</em
              >
            </p>
          </div>
          <div class="form-group">
            <label for="brandName"
              >Brand Name
              <span style="color: var(--accent-color)">*</span></label
            >
            <input
              type="text"
              id="brandName"
              class="input"
              placeholder="e.g., Panadol, Advil"
              required
            />
          </div>
          <div class="form-group">
            <label for="genericName"
              >Generic Name
              <span style="color: var(--accent-color)">*</span></label
            >
            <input
              type="text"
              id="genericName"
              class="input"
              placeholder="e.g., Paracetamol, Ibuprofen"
              required
            />
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="category"
                >Category
                <span style="color: var(--accent-color)">*</span></label
              >
              <select id="category" class="input" required>
                <option value="">Select Category</option>
                <option value="medicine">Medicine</option>
                <option value="non-medicine">Non-Medicine</option>
              </select>
            </div>
            <div class="form-group">
              <label for="subcategory"
                >Subcategory
                <span style="color: var(--accent-color)">*</span></label
              >
              <select id="subcategory" class="input" required>
                <option value="">Select Subcategory</option>
                <option value="analgesic">Analgesic / Antipyretic</option>
                <option value="expectorant">Expectorant</option>
                <option value="antihistamine">Antihistamine</option>
                <option value="first-aid">First Aid</option>
                <option value="antiseptic">Antiseptic / Disinfectant</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="price"
                >Price <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="number"
                id="price"
                class="input"
                placeholder="e.g., 10.00, 2.75"
                step="0.01"
                min="0"
                required
              />
            </div>
            <div class="form-group">
              <label for="unitOfMeasurement"
                >Unit of Measurement
                <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="text"
                id="unitOfMeasurement"
                class="input"
                placeholder="e.g., piece, box, bottle, pack"
                required
              />
            </div>
          </div>

          <div class="section-divider">Notification Settings</div>

          <div class="form-row">
            <div class="form-group">
              <label for="lowStockThreshold"
                >Low Stock Threshold (units)
                <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="number"
                id="lowStockThreshold"
                class="input"
                placeholder="e.g., 50, 25"
                min="0"
                required
              />
            </div>
            <div class="form-group">
              <label for="expiryThreshold"
                >Expiry Date Threshold (days)
                <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="number"
                id="expiryThreshold"
                class="input"
                placeholder="e.g., 30, 15"
                min="0"
                required
              />
            </div>
          </div>
          <div class="form-group">
            <label for="notificationRecipient"
              >Send Notification To
              <span style="color: var(--accent-color)">*</span></label
            >
            <input
              type="text"
              id="notificationRecipient"
              class="input"
              placeholder="e.g., ceejay@example.com"
              required
            />
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelProductBtn">
            Cancel
          </button>
          <button class="btn btn-primary" id="saveProductBtn">
            <i class="fas fa-save"></i> Save Product
          </button>
        </div>
      </div>
    </div>

    <!-- Edit Supplier Modal -->
    <div id="editSupplierModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Supplier</h2>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="editSupplierName">Supplier Name</label>
            <input
              type="text"
              id="editSupplierName"
              class="input"
              placeholder="Enter supplier name"
            />
          </div>
          <div class="form-group">
            <label for="editContactPerson">Contact Person</label>
            <input
              type="text"
              id="editContactPerson"
              class="input"
              placeholder="Enter contact person"
            />
          </div>
          <div class="form-group">
            <label for="editContactPerson">Adress</label>
            <input
              type="text"
              id="editSupplierAddress"
              class="input"
              placeholder="Enter contact person"
            />
          </div>
          <div class="form-group">
            <label for="editSupplierEmail">Email</label>
            <input
              type="email"
              id="editSupplierEmail"
              class="input"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="editSupplierPhoneNumber">Phone Number</label>
            <input
              type="tel"
              id="editSupplierPhoneNumber"
              class="input"
              placeholder="Enter phone number"
            />
          </div>
          <div class="form-group">
            <label for="editSupplierProduct">Product</label>
              <select id="editSupplierProduct" class="input">
              </select>
          </div>
          <div class="form-group">
            <label for="editSupplierStatus">Status</label>
            <select id="editSupplierStatus" class="input">
              <option value="Active">Active</option>
              <option value="Inactive">Inactive</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelSupplierEditBtn">Cancel</button>
          <button class="btn" id="updateSupplierEditBtn">
            <i class="fas fa-save"></i> Update Supplier
          </button>
        </div>
      </div>
    </div>

    <!-- Archive Confirmation Modal -->
    <div id="archiveModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Archive Confirmation</h2>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to archive this item? This action can be
            undone later.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelArchiveBtn">
            Cancel
          </button>
          <button class="btn archive-btn" id="confirmArchiveBtn">
            <i class="fas fa-archive"></i> Archive
          </button>
        </div>
      </div>
    </div>

    <!-- Unarchive Confirmation Modal -->
    <div id="unarchiveModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Unarchive Confirmation</h2>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to unarchive this item? It will be restored to
            active status.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelUnarchiveBtn">
            Cancel
          </button>
          <button class="btn unarchive-btn" id="confirmUnarchiveBtn">
            <i class="fas fa-undo"></i> Unarchive
          </button>
        </div>
      </div>
    </div>

    <!-- Suppliers Archive Confirmation Modal -->
    <div id="supplierArchiveModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Archive Confirmation</h2>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to archive this Supplier? This action can be
            undone later.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="supplierCancelArchiveBtn">
            Cancel
          </button>
          <button class="btn archive-btn" id="supplierConfirmArchiveBtn">
            <i class="fas fa-archive"></i> Archive
          </button>
        </div>
      </div>
    </div>

    <!-- Supplier Unarchive Confirmation Modal -->
    <div id="supplierUnarchiveModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Unarchive Confirmation</h2>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to unarchive this Supplier? It will be restored to
            active status.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="supplierCancelUnarchiveBtn">
            Cancel
          </button>
          <button class="btn unarchive-btn" id="supplierConfirmUnarchiveBtn">
            <i class="fas fa-undo"></i> Unarchive
          </button>
        </div>
      </div>
    </div>

    <!-- Category Archive Confirmation Modal -->
    <div id="categoryArchiveModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Archive Confirmation</h2>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to archive this Category?? This action can be
            undone later.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="categoryCancelArchiveBtn">
            Cancel
          </button>
          <button class="btn archive-btn" id="categoryConfirmArchiveBtn">
            <i class="fas fa-archive"></i> Archive
          </button>
        </div>
      </div>
    </div>

    <!-- Category Unarchive Confirmation Modal -->
    <div id="categoryUnarchiveModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Unarchive Confirmation</h2>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to unarchive this Category? It will be restored to
            active status.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="categoryCancelUnarchiveBtn">
            Cancel
          </button>
          <button class="btn unarchive-btn" id="categoryConfirmUnarchiveBtn">
            <i class="fas fa-undo"></i> Unarchive
          </button>
        </div>
      </div>
    </div>

    <!-- Edit Product Modal -->
    <div id="editProductModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Product</h2>
          <button class="close-btn" id="closeEditModalBtn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="info-banner">
            <i class="bi bi-info-circle"></i>
            <p>
              <em
                >To manage categories and subcategories, please go to the
                <strong>Category Management</strong> section.</em
              >
            </p>
          </div>
          <div class="form-group">
            <label for="editBrandName"
              >Brand Name
              <span style="color: var(--accent-color)">*</span></label
            >
            <input
              type="text"
              id="editBrandName"
              class="input"
              placeholder="e.g., Panadol, Advil"
              required
            />
          </div>
          <div class="form-group">
            <label for="editGenericName"
              >Generic Name
              <span style="color: var(--accent-color)">*</span></label
            >
            <input
              type="text"
              id="editGenericName"
              class="input"
              placeholder="e.g., Paracetamol, Ibuprofen"
              required
            />
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="editCategory"
                >Category
                <span style="color: var(--accent-color)">*</span></label
              >
              <select id="editCategory" class="input" required>
                <option value="">Select Category</option>
                <option value="medicine">Medicine</option>
                <option value="non-medicine">Non-Medicine</option>
              </select>
            </div>
            <div class="form-group">
              <label for="editSubcategory"
                >Subcategory
                <span style="color: var(--accent-color)">*</span></label
              >
              <select id="editSubcategory" class="input" required>
                <option value="">Select Subcategory</option>
                <option value="analgesic">Analgesic / Antipyretic</option>
                <option value="expectorant">Expectorant</option>
                <option value="antihistamine">Antihistamine</option>
                <option value="first-aid">First Aid</option>
                <option value="antiseptic">Antiseptic / Disinfectant</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="editPrice"
                >Price <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="number"
                id="editPrice"
                class="input"
                placeholder="e.g., 10.00, 2.75"
                step="0.01"
                min="0"
                required
              />
            </div>
            <div class="form-group">
              <label for="editUnitOfMeasurement"
                >Unit of Measurement
                <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="text"
                id="editUnitOfMeasurement"
                class="input"
                placeholder="e.g., piece, box, bottle, pack"
                required
              />
            </div>
          </div>

          <div class="section-divider">Notification Settings</div>

          <div class="form-row">
            <div class="form-group">
              <label for="editLowStockThreshold"
                >Low Stock Threshold (units)
                <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="number"
                id="editLowStockThreshold"
                class="input"
                placeholder="e.g., 50, 25"
                min="0"
                required
              />
            </div>
            <div class="form-group">
              <label for="editExpiryThreshold"
                >Expiry Date Threshold (days)
                <span style="color: var(--accent-color)">*</span></label
              >
              <input
                type="number"
                id="editExpiryThreshold"
                class="input"
                placeholder="e.g., 30, 15"
                min="0"
                required
              />
            </div>
          </div>
          <div class="form-group">
            <label for="editNotificationRecipient"
              >Send Notification To
              <span style="color: var(--accent-color)">*</span></label
            >
            <input
              type="text"
              id="editNotificationRecipient"
              class="input"
              placeholder="e.g., ceejay@example.com"
              required
            />
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelEditProductBtn">
            Cancel
          </button>
          <button class="btn btn-primary" id="updateProductBtn">
            <i class="fas fa-save"></i> Update Product
          </button>
        </div>
      </div>
    </div>

    <!-- Edit Category Modal -->
    <div id="editCategoryModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Category</h2>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="editCategoryName">Category Name</label>
            <input
              type="text"
              id="editCategoryName"
              class="input"
              placeholder="Enter category name"
            />
          </div>
          <div class="form-group">
            <label for="editCategoryDescription">Description</label>
            <textarea
              class="input"
              id="editCategoryDescription"
              placeholder="Enter description"
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelEditCategoryBtn">
            Cancel
          </button>
          <button class="btn" id="updateCategoryEditBtn">
            <i class="fas fa-save"></i> Update Category
          </button>
        </div>
      </div>
    </div>

    <!-- Edit Subcategory Modal -->
    <div id="editSubcategoryModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Subcategory</h2>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="editSubcategoryName">Subcategory Name</label>
            <input
              type="text"
              id="editSubcategoryName"
              class="input"
              placeholder="Enter subcategory name"
            />
          </div>
          <div class="form-group">
            <label for="editSubcategoryDescription">Description</label>
            <textarea
              class="input"
              id="editSubcategoryDescription"
              placeholder="Enter description"
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelEditSubcategoryBtn">
            Cancel
          </button>
          <button class="btn">
            <i class="fas fa-save"></i> Update Subcategory
          </button>
        </div>
      </div>
    </div>

    <script>
      //WAG GAGALIN FOR SIDEBAR PURPOSES
      document.addEventListener("DOMContentLoaded", function () {
        // Load sidebar component
        fetch("/static/Sidebar/Sidebar.html")
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("sidebar-container").innerHTML = data;
            initializeSidebar();
          })
          .catch((error) => {
            console.error("Error loading sidebar:", error);
          });
        function initializeSidebar() {
          const navIcons = document.querySelectorAll(
            ".sidebar-component .nav-icon"
          );
          const navLabels = document.querySelectorAll(
            ".sidebar-component .nav-label"
          );

          // Get current page URL
          const currentUrl = window.location.href.toLowerCase();
          console.log("Current URL:", currentUrl);

          // Remove active class from all items first
          navIcons.forEach((icon) => icon.classList.remove("active"));
          navLabels.forEach((label) => label.classList.remove("active"));

          // Hardcoded path matching for your specific URLs
          let activeItem = null;

          if (currentUrl.includes("/static/settingspage/system_settings.html")) {
            activeItem = "settings";
          } else if (
            currentUrl.includes("/static/productpage/productsPos.html#products")
          ) {
            activeItem = "products";
          } else if (
            currentUrl.includes("/static/inventorypage/inventory_management.html")
          ) {
            activeItem = "inventory";
          } else if (
            currentUrl.includes("/static/transactionpage/transactions.html")
          ) {
            activeItem = "transactions";
          } else if (
            currentUrl.includes("/dashboard.html") ||
            currentUrl.endsWith("/") ||
            currentUrl.includes("/inventory-system/")
          ) {
            activeItem = "dashboard";
          }

          console.log("Detected active item:", activeItem);

          // Set active state
          if (activeItem) {
            const activeIcon = document.querySelector(
              `.sidebar-component .nav-icon[data-item="${activeItem}"]`
            );
            const activeLabel = document.querySelector(
              `.sidebar-component .nav-label[data-item="${activeItem}"]`
            );

            if (activeIcon) {
              activeIcon.classList.add("active");
              console.log("Activated icon:", activeItem);
            }

            if (activeLabel) {
              activeLabel.classList.add("active");
              console.log("Activated label:", activeItem);
            }
          } else {
            // Default to dashboard if no match found
            const dashboardIcon = document.querySelector(
              '.sidebar-component .nav-icon[data-item="dashboard"]'
            );
            const dashboardLabel = document.querySelector(
              '.sidebar-component .nav-label[data-item="dashboard"]'
            );
            if (dashboardIcon && dashboardLabel) {
              dashboardIcon.classList.add("active");
              dashboardLabel.classList.add("active");
            }
            console.log("No specific match found, defaulting to dashboard");
          }

          // Add click handlers for navigation
          navIcons.forEach((icon) => {
            icon.addEventListener("click", function () {
              const path = this.getAttribute("data-path");
              const item = this.getAttribute("data-item");

              if (path && item !== "logout") {
                console.log("Navigating to:", path);
                window.location.href = path;
              }
            });
          });

          navLabels.forEach((label) => {
            label.addEventListener("click", function () {
              const path = this.getAttribute("data-path");
              const item = this.getAttribute("data-item");

              if (path && item !== "logout") {
                console.log("Navigating to:", path);
                window.location.href = path;
              }
            });
          });

          // Logout handlers
          const logoutIcon = document.querySelector(
            ".sidebar-component .logout-icon"
          );
          const logoutLabel = document.querySelector(
            ".sidebar-component .logout-label"
          );

          if (logoutIcon) {
            logoutIcon.addEventListener("click", function () {
              console.log("Logout clicked from icon");
              // Add your logout logic here
              // window.location.href = '/logout';
            });
          }

          if (logoutLabel) {
            logoutLabel.addEventListener("click", function () {
              console.log("Logout clicked from label");
              // Add your logout logic here
              // window.location.href = '/logout';
            });
          }

          // Sync hover states between icons and labels
          navIcons.forEach((icon) => {
            const item = icon.getAttribute("data-item");

            icon.addEventListener("mouseenter", function () {
              const label = document.querySelector(
                `.sidebar-component .nav-label[data-item="${item}"]`
              );
              if (label && !label.classList.contains("active")) {
                label.style.backgroundColor = "var(--white)";
                label.style.color = "var(--violet-medium)";
              }
            });

            icon.addEventListener("mouseleave", function () {
              const label = document.querySelector(
                `.sidebar-component .nav-label[data-item="${item}"]`
              );
              if (label && !label.classList.contains("active")) {
                label.style.backgroundColor = "";
                label.style.color = "";
              }
            });
          });

          navLabels.forEach((label) => {
            const item = label.getAttribute("data-item");

            label.addEventListener("mouseenter", function () {
              const icon = document.querySelector(
                `.sidebar-component .nav-icon[data-item="${item}"]`
              );
              if (icon && !icon.classList.contains("active")) {
                icon.style.backgroundColor = "var(--white)";
                icon.style.color = "var(--violet-darker)";
              }
            });

            label.addEventListener("mouseleave", function () {
              const icon = document.querySelector(
                `.sidebar-component .nav-icon[data-item="${item}"]`
              );
              if (icon && !icon.classList.contains("active")) {
                icon.style.backgroundColor = "";
                icon.style.color = "";
              }
            });
          });
        }
      });
    </script>
    <script src="/static/SettingsPage/System_Settings.js"></script>
    <script src="/static/SettingsPage/SuppliersManagement/Suppliers_Management.js"></script>
    <script src="/static/SettingsPage/CategoryManagement/Category_Management.js"></script>
    <script src="/static/SettingsPage/ProductManagement/Product_Management.js"></script>
  </body>
</html>
